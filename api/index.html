<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · Sad.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">Sad.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation/">Install</a></li><li><a class="tocitem" href="../algorithm/">Algorithm</a></li><li><a class="tocitem" href="../use_cases/">Use cases</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Hydro-Umass/Sad.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Library"><a class="docs-heading-anchor" href="#Library">Library</a><a id="Library-1"></a><a class="docs-heading-anchor-permalink" href="#Library" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Sad.Dingman" href="#Sad.Dingman"><code>Sad.Dingman</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Dingman river channel cross section.</p><p>Uses generalized expressions for cross-section geometry based on at-a-station hydraulic geometry relations.</p><ul><li><code>Wb</code>: bankfull width</li><li><code>Yb</code>: bankfull depth</li><li><code>Ym</code>: flow depth</li><li><code>r</code>: geometry exponent</li><li><code>S0</code>: bed slope</li><li><code>n</code>: Manning roughness coefficient</li></ul><p>See also: <a href="#Sad.Rectangular"><code>Rectangular</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.Rectangular" href="#Sad.Rectangular"><code>Sad.Rectangular</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Rectangular river channel cross section.</p><ul><li><code>Wb</code>: bankfull width</li><li><code>Yb</code>: bankfull depth</li><li><code>Ym</code>: flow depth</li><li><code>S0</code>: bed slope</li><li><code>n</code>: Manning roughness coefficient</li></ul><p>See also: <a href="#Sad.Dingman"><code>Dingman</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><h3 id="Cross-sections"><a class="docs-heading-anchor" href="#Cross-sections">Cross sections</a><a id="Cross-sections-1"></a><a class="docs-heading-anchor-permalink" href="#Cross-sections" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Sad.width" href="#Sad.width"><code>Sad.width</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">width(xs)</code></pre><p>Calculate water surface width of cross section.</p><p><strong>Arguments</strong></p><ul><li><code>xs</code>: cross section</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.depth" href="#Sad.depth"><code>Sad.depth</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">depth(xs)</code></pre><p>Calculate average depth of cross section.</p><p><strong>Arguments</strong></p><ul><li><code>xs</code>: cross section</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><h3 id="Priors"><a class="docs-heading-anchor" href="#Priors">Priors</a><a id="Priors-1"></a><a class="docs-heading-anchor-permalink" href="#Priors" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Sad.get_samples" href="#Sad.get_samples"><code>Sad.get_samples</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_samples(p, samples)</code></pre><p>Get quantiles from <code>p</code> according to weights provided by Latin Hypercube Sampling <code>samples</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.lhs_ensemble" href="#Sad.lhs_ensemble"><code>Sad.lhs_ensemble</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">lhs_ensemble(nens, args...)</code></pre><p>Generate an ensemble of size <code>nens</code> using Latin Hypercube Sampling of the list of distributions or collections provided as <code>args</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.prior_ensemble" href="#Sad.prior_ensemble"><code>Sad.prior_ensemble</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">prior_ensemble(x::Vector{Float64}, Qp::Distribution, np::Distribution, rp::Distribution, zp::Distribution, nens::Int)</code></pre><p>Generate a prior ensemble of discharge, roughness coefficient, channel shape parameter, and downstream bed elevation from provided distributions or sample data.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: distances between cross sections</li><li><code>Qp</code>: discharge prior distribution</li><li><code>np</code>: roughness coefficient distribution</li><li><code>rp</code>: channel shape parameter distribution</li><li><code>zp</code>: downstream bathymetry distribution</li><li><code>nens</code>: ensemble size</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.gvf_ensemble!" href="#Sad.gvf_ensemble!"><code>Sad.gvf_ensemble!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">gvf_ensemble!(H::Vector{Float64}, S, x::Vector{Float64}, hbf::Vector{Float64}, wbf::Vector{Float64}, Qe::Vector{Float64}, ne::Vector{Float64}, re::Vector{Float64}, ze)</code></pre><p>Generate an ensemble of water height profiles from Gradually-Varied-Flow simulations and associated profiles of bed elevation.</p><ul><li><code>H</code>: water surface elevation</li><li><code>S</code>: bed slope</li><li><code>x</code>: channel chainage</li><li><code>hbf</code>: bankfull water surface elevation</li><li><code>wbf</code>: bankfull width</li><li><code>Qe</code>: ensemble discharge</li><li><code>ne</code>: ensemble roughness coefficient</li><li><code>re</code>: ensemble channel shape parameter</li><li><code>ze</code>: ensemble bed elevation profiles</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.rejection_sampling" href="#Sad.rejection_sampling"><code>Sad.rejection_sampling</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">rejection_sampling(Qp, np, rp, zp, x, H, S0, hbc, wbf, hbf, nens)</code></pre><p>Use rejection sampling to select a subset of the prior ensemble.</p><p><strong>Arguments</strong></p><ul><li><code>Qp</code>: prior discharge distribution</li><li><code>np</code>: prior roughness coefficient distribution</li><li><code>rp</code>: prior channel shape parameter distribution</li><li><code>zp</code>: prior distribution for downstream bed elevation</li><li><code>x</code>: channel chainage</li><li><code>H</code>: time series of observed water surface elevation profiles</li><li><code>S0</code>: prior estimate of channel bed slope</li><li><code>hbc</code>: mean downstream flow depth used as boundary condition</li><li><code>wbf</code>: bankfull width</li><li><code>hbf</code>: bankfull water surface elevation</li><li><code>nens</code>: ensemble size</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.priors" href="#Sad.priors"><code>Sad.priors</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">priors(ncfile)</code></pre><p>Derive prior distributions for discharge, roughness coefficient, channel shape parameter, and bed elevation by reading the <a href="http://gaia.geosci.unc.edu/SWORD/">SWORD</a> a-priori database.</p><p><strong>Arguments</strong></p><ul><li><code>ncfile</code>: NetCDF file of SWORD database</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section><section><div><pre><code class="nohighlight hljs">priors(qwbm, hmin)</code></pre><p>Derive distributions for discharge, roughness coefficient, channel shape parameter, and bed elevation using uninformative priors.</p><p><strong>Arguments</strong></p><ul><li><code>qwbm</code>: mean discharge</li><li><code>hmin</code>: minimum downstream water surface elevation</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><h3 id="Kalman-filters"><a class="docs-heading-anchor" href="#Kalman-filters">Kalman filters</a><a id="Kalman-filters-1"></a><a class="docs-heading-anchor-permalink" href="#Kalman-filters" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Sad.letkf" href="#Sad.letkf"><code>Sad.letkf</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">letkf(A::Matrix{Float64}, d::Vector{Float64}, HA::Matrix{Float64}, E::Matrix{Float64}, ρ::Float64, diagR::Bool)</code></pre><p>Apply the Local Ensemble Transform Kalman Filter algorithm.</p><p><strong>Arguments</strong></p><ul><li><code>A</code>: state variable ensemble matrix</li><li><code>d</code>: observation vector</li><li><code>HA</code>: model-predicted observation ensemble matrix</li><li><code>E</code>: observation error ensemble matrix</li><li><code>ρ</code>: covariance inflation parameter (optional, default value of 1.05)</li><li><code>diagR</code>: force observation error covariance to be diagonal, i.e. no spatial correlation (optional, default is false)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><h3 id="Gradually-Varied-Flow"><a class="docs-heading-anchor" href="#Gradually-Varied-Flow">Gradually Varied Flow</a><a id="Gradually-Varied-Flow-1"></a><a class="docs-heading-anchor-permalink" href="#Gradually-Varied-Flow" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Sad.froude" href="#Sad.froude"><code>Sad.froude</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">froude(Q::Float64, xs::CrossSection)</code></pre><p>Calculate the Froude number.</p><p><strong>Arguments</strong></p><ul><li><code>Q</code>: discharge</li><li><code>xs</code>: cross section</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.dydx" href="#Sad.dydx"><code>Sad.dydx</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">dydx(y, p, x)</code></pre><p>Ordinary differential equation describing the Gradually-Varied-Flow model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.gvf" href="#Sad.gvf"><code>Sad.gvf</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Calculate a water surface profile by solving the Gradually-Varied-Flow equation.</p><ul><li><code>Q</code>: discharge</li><li><code>ybc</code>: downstream boundary condition for depth</li><li><code>S0</code>: bed slope for reach</li><li><code>n</code>: roughness coefficient</li><li><code>x</code>: downstream distance for each cross section</li><li><code>wbf</code>: bankfull width for each cross section</li><li><code>ybf</code>: bankfull depth for each cross section</li><li><code>r</code>: channel geometry coefficient for each cross section</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><h3 id="Sad"><a class="docs-heading-anchor" href="#Sad">Sad</a><a id="Sad-1"></a><a class="docs-heading-anchor-permalink" href="#Sad" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Sad.assimilate" href="#Sad.assimilate"><code>Sad.assimilate</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">assimilate(H::Vector{Float64})</code></pre><p>Assimilate SWOT observations for river reach.</p><p><strong>Arguments</strong></p><ul><li><code>H</code>: water surface elevation</li><li><code>W</code>: water surface width</li><li><code>x</code>: downstream distance for each cross section</li><li><code>wbf</code>: bankfull width</li><li><code>hbf</code>: bankfull depth</li><li><code>Qₚ</code>: prior probability distribution for discharge</li><li><code>nₚ</code>: prior probability distribution for roughness coefficient</li><li><code>rₚ</code>: prior probability distribution for channel shape parameter</li><li><code>zₚ</code>: prior distribution for downstream bed elevation</li><li><code>nens</code>: ensemble size</li><li><code>ϵₒ</code>: observation error standard deviation</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Sad.bathymetry!" href="#Sad.bathymetry!"><code>Sad.bathymetry!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">bathymetry!(ze, Se, Qe, ne, re, x, hbf, wbf, H, ϵ₀::Float64=0.01)</code></pre><p>Estimate channel bed slope and thalweg (elevation) by assimilating SWOT water surface elevation observations.</p><p><strong>Arguments</strong></p><ul><li><code>ze</code>: ensemble of bed elevations</li><li><code>Se</code>: ensemble of bed slopes</li><li><code>Qe</code>: ensemble of discharge</li><li><code>ne</code>: ensemble of roughness coefficient</li><li><code>re</code>: ensemble of channel shape parameters</li><li><code>x</code>: channel chainage</li><li><code>hbf</code>: bankfull water surface elevation</li><li><code>wbf</code>: bankfull width</li><li><code>H</code>: time-averaged water surface elevation observed</li><li><code>ϵ₀</code>: observation error standard deviation</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Hydro-Umass/Sad.jl">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../use_cases/">« Use cases</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Tuesday 27 December 2022 04:04">Tuesday 27 December 2022</span>. Using Julia version 1.8.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
